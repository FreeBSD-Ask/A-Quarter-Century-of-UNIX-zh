# VAX 后的伯克利 Unix

在第 18 章我，我引用了 Kirk 提到到他们将“portals”放到了 4.4 中。作为 British 对 Unix 开发的又一个贡献，这是 Jan Simon 对我说的：

> 我将一个叫做“portals”的东西放到了 4.4 版本 BSD 里。它们和 4.3 版 BSD 架构手册中说的“portals”不是同一种东西，但是你可以用他们做很多相同的事情。可能我应该另外选择一个名字。

> 它具体的功能是一个守护进程创建了一个 Unix 域套接字，然后把它附加到系统命名空间 (按惯例路径是‘/p’)。它在套接字上等待来自内核的消息...

> 正真的想法是将所有网络相关的代码从应用程序里拿出来，放到一个或两个守护进程。它的实现的 V9 的**ipcopen()**非常相似。当然，在 4.4 里面没有应用程序被修改过。你无需一堆**perl**代码，直接用**awk**脚本就可以创建网络连接，。

UC 伯克利 Unix 的故事结局就像 Kirk 说的：

> 我们对 Computer Console 公司的 Tahoe 感兴趣。对我们来说很明显 VAX 不够快，也不够便宜。当然，DEC 这次有 Ultrix 产品并且他们讲 4.3BSD 视为竞争对手 (Armando Stettner 已经不在 DECUnix 小组)。我们被停止反馈：新硬件的增强信息，每个东西的详细规格，设备驱动等等。很明显 DEC 会把我们的生活弄得更加困难，还不清楚从长远看 VAX 会成为什么样的架构。

> 在这段时间 Sam 为 LucasFilm 工作，他做了一个机器搜索。他将市场上所有的机器都分析了一遍。他决定 CCI Tahoe 系列的机器在当前是最有性价比的架构。并且它们也在绘图板上为未来的版本计划了很多很棒的东西。

> 它们有一台和今天的台式电脑一样大小的 6 MIP 机器。它们的绘图板上还有一台 35 MIP 机器，它会在大多数厂商都向年轻的学生销售 MIP 机器时开始出产。我们准备得到一些他们的机器。他们给了我们一个 BSD 的移植。他们觉得他们不得不向其他厂商做的那样为了市场销售去做一个基于 System V 的系统。

> Tahoe 的 4.3 版本被设想成移植到 Tahoe 的 4.3 版 BSD。实际上，就在同时有另外一些事情已经完成 (比如磁盘标签) 并且已经包含在系统里面，所以有些事情已经变得不一样。他们想做的第一件事就是不区分系统，这样它就可以同时支持两种硬件架构。

> 不幸的是，CCI 取消了他们接下来的项目，Tahoe 成为一个死掉的架构。他们让我们连第二版都没推出。

> Reno 的发布时我们做的上一个系统，它是一个“直接在空白硬件上启动”的发行版。很明显我们需要移植到一个不是工作站的主机上。我们得到一个连接 HP 工作站的通讯线，68Kb 的速度。部分地，我们之所以这么做是因为伯克利的一些人已经开始移植，犹他州立大学的人们已经完成了。HP 乐意给我们硬件，所以它工作的很好。

1993 年 6 月，伯克利发布了 4.4 版本，同时结束了 CSRG。Both Keith Bostic 和 Kirk McKusick 离开了加利福尼亚大学。Mike Karels 在前一年离开。贝尔实验室的 Unix 研究在 1980 年晚期终止。现在最重要的非 AT&T 社团也“远离了 Unix 开发”。Unix 仍然在开发，但历史上最重要的两个团体已经不再参与开发。
