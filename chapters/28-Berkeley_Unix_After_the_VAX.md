# VAX后的伯克利Unix

在第18章我，我引用了Kirk提到到他们将“portals”放到了4.4中。作为British对Unix开发的又一个贡献，这是Jan Simon对我说的:

> 我将一个叫做“portals”的东西放到了4.4版本BSD里。它们和4.3版BSD架构手册中说的“portals”不是同一种东西，但是你可以用他们做很多相同的事情。可能我应该另外选择一个名字。

> 它具体的功能是一个守护进程创建了一个Unix域套接字，然后把它附加到系统命名空间(按惯例路径是‘/p’)。它在套接字上等待来自内核的消息...

> 正真的想法是将所有网络相关的代码从应用程序里拿出来，放到一个或两个守护进程。它的实现的V9的**ipcopen()**非常相似。当然，在4.4里面没有应用程序被修改过。你无需一堆**perl**代码，直接用**awk**脚本就可以创建网络连接，。

UC伯克利Unix的故事结局就像Kirk说的:

> 我们对Computer Console公司的Tahoe感兴趣。对我们来说很明显VAX不够快，也不够便宜。当然，DEC这次有Ultrix产品并且他们讲4.3BSD视为竞争对手(Armando Stettner已经不在DECUnix小组)。我们被停止反馈:新硬件的增强信息，每个东西的详细规格，设备驱动等等。很明显DEC会把我们的生活弄得更加困难，还不清楚从长远看VAX会成为什么样的架构。

> 在这段时间Sam为LucasFilm工作，他做了一个机器搜索。他将市场上所有的机器都分析了一遍。他决定CCI Tahoe系列的机器在当前是最有性价比的架构。并且它们也在绘图板上为未来的版本计划了很多很棒的东西。

> 它们有一台和今天的台式电脑一样大小的6 MIP机器。它们的绘图板上还有一台35 MIP机器，它会在大多数厂商都向年轻的学生销售MIP机器时开始出产。我们准备得到一些他们的机器。他们给了我们一个BSD的移植。他们觉得他们不得不向其他厂商做的那样为了市场销售去做一个基于System V的系统。

> Tahoe的4.3版本被设想成移植到Tahoe的4.3版BSD。实际上，就在同时有另外一些事情已经完成(比如磁盘标签)并且已经包含在系统里面，所以有些事情已经变得不一样。他们想做的第一件事就是不区分系统，这样它就可以同时支持两种硬件架构。

> 不幸的是，CCI取消了他们接下来的项目，Tahoe成为一个死掉的架构。他们让我们连第二版都没推出。

> 
