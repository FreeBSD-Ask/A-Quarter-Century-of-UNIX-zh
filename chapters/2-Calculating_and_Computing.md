# 机械计算和电子计算

当我试着了解计算机和操作系统的历史，我不得不先描绘一些其他的事情，因为我不想错过非专家。

要理解现代计算机的起源，有三个话题不得不提到：

* 机械计算
* 制表机和分类器
* 差分分析机

变化发生于 1918 年第一次世界大战末期，计算工具从机械计算向电子机械计算，向电子管，向晶体管，向集成电路，向今天的单芯片计算机一路发展。

机械式计算的历史非常久远。算盘可能是最早的计算工具，中国和埃及使用它已经有一千多年的历史。当西班牙人到达时，玛雅人也在使用算盘。当奈培发明对数时，他用象牙做成的骨棒计算乘法，于是发明了计算尺（在伦敦的维多利亚和艾伯特博物馆还保留了很多奈培的骨棒，它们现在归属于查尔斯 - 巴蓓奇）。

1642 年，布莱克 - 帕斯卡 18 岁时发明了一个可以实现累加计算的工具帮助他从事税收员的父亲。30 年后的 1671 年，莱布尼兹基于帕斯卡的机器做了更多的改进，使用一个精巧的步进齿轮实现了乘法运算，这个设计一直运用到 1940 年机械运算的末期。莱布尼兹在 1676 年把他的计算器展示给了伦敦的皇家学会。第一个取得商业成功的计算器是 1820 年由查尔斯 - 泽维尔 - 托马斯发明的。到 1878 年，销售数量达到令人震惊的 1500 台，平均几乎每年卖出 30 台。直到第一次世界大战后达雷尔仍在巴黎制造。基于 1985 年 Frank Stephen 所获专利的 Brunsviga 加法器，将莱布尼兹步进齿轮替换为突出可变数字的齿轮，在 1892 年和 1912 年期间共卖出了 20000 台——平均每年 1000 台。

1850 年 D.D.Parmalee 发明了第一个键盘驱动的计算器，第一个键盘驱动，多类型的高速计算器则是 1887 年由 Dorr Eugene Felt 发明的。

1812 年，Charles Babbage 提出一个新类型的计算器，一个不同以往的引擎。1823 年英国政府支持了他的研究，但在 1833 年停止工作，并在 1842 年取消了这个项目，因为政府觉得它的花费实在太多了。从 1833 年起，Babbage 把全部精力投入到一种新的计算器，一个可以自动计算任何数学公式的分析引擎。它使用提花织布机的打孔卡片操作分析引擎的几种操作。虽然只有很小一部分被制造出来，但 Babbage 的笔记，绘图，和部分的引擎都存放在维多利亚和阿尔伯特博物馆里。

提花织布机是自动生产的成功尝试，是几种创新的成果：1725 年 Bouchon 将织布机的弓弦缠线器换成长长的穿孔纸带，1728 年 Falco 又将他们换成由细线串起的卡片。1748 年 Jacques de Vaucanson 组合了穿孔纸带和卡片。织布样式由特殊机器使用模板在卡片上打孔。此时编程机器也就诞生了。

一百年后，哥伦比亚大学的毕业生 Herman Hollerith，回忆这些打孔卡片的存在。Hollerith 在人口普查局有一份年薪高达 600 美金的工作，工作内容是调查制造业使用能源和机器的使用情况。在那里他还遇到了负责“重要统计”的 John Shaw Billings。一次晚宴上，Billings 介绍了在 1870 年人口普查中使用的由 Charles Seaton 的发明的统计机器。对此机器他并不看好，因为根据他的预测，按照现在人口增长趋势，1880 年的人口普查最少也要 7，8 年才能完成，而 1890 年的人口普查到了 1900 年也做不完。“应该有一个专门的制表机器来做人口普查和类似的统计工作”，Billings 说。“我们详细的讨论了”，30 年后 Hollerith 回忆说，“我记得，他设想将个人的信息打孔在卡片的边缘上”。Hollerith 设想了一个可以记录和读取这种信息的设备，并且邀请 Billings 和他一起把这个设备商业化。Billings 是一个谨慎的人，他拒绝了 Hollerith。

1882 年 Hollerith 作为一个机械工程讲师去了 MIT(那年他 22 岁)，教书生活使他有时间去构建他的机器。首先他考虑将信息记录在长长的纸带上，但实验证明这并不可行。1883 年夏天 Hollerith 乘坐火车去西部旅行时，他见到售票员在车票上打孔一种图案，以此记录游客的个人信息 (比如性别，头发和眼睛的颜色等)，来确保整个旅途都是同一个人。

1884 年 Hollerith 得到了他的第一个机器专利，并在 1886 年管理 Baltimore 人口普查时的一次实验中再次提高了设计。在他实验报告的基础上，新泽西和纽约订购了机器用于记录人口死亡率。Hollerith 和一些商业伙伴投标赢得了 1890 年人口普查的合约。奥地利政府于 1890 年订购了一批机器，次年澳大利亚也订购了五台。Hollerith 的机器大获成功，1896 年组建了制表机器公司销售 Hollerith 电力制表系统，并在 1905 年合并。

Hollerith 的几个发明在业界一直延续了近 80 年。首先，他剪去了卡片的右上角，因此操作员们可以准确无误的操作这些卡片。第二，他以合理的价格租借机器 (1890 年用于人口普查的租金是 75 万美元，而 1889 年的普查则花费了 500 万美元)，却单独销售配套的卡片 (1890 到 1895 年期间共销售了一亿多张)。第三，他改造人口普查系统到铁路上，记录货物和旅客的信息。事实上，是 Hollerith 发明了可重用性。

1907 和 1908 年 Hollerith 租给电力系统公司一些机器用于记录，每个月他能卖给他们一百万张卡片。卡片大小为 3.25 英寸宽，7.375 英寸长 (和旧的美元一样大小)，上面有 45 行 10 列的圆孔。

1990 年，一个叫 Charles Flint 的企业家在纽约恩迪科特创办了国际计时公司，制造售卖考勤钟。第二年，合并了澳大利亚计算测量公司，他们生产的磅秤可以直接读到数值，这样就不再需要职员人工计算了。大概 1910 年，Flint 遇到了穷困的 Hollerith，合并他的制表公司建立了计算 - 制表 - 计时公司 (CTR)。不到 30 个月后，Flint 面试了从 NCR 离职的 Thomas Watson，并说服董事会雇佣他。1914 年 5 月，Watson 作为总经理接管了 CTR，并获得了 25000 美元的丰厚薪水，期权以及分红。

第一次世界大战使 CTR 公司商业获得很大增长。1919 年 Watson 的技术投资提前 5 年收回成本：CTR 成功的推出了一台打印制表机，它可以打印出从 Hollerith 的制表机和分类器获取到的信息。1924 年，CTR 更名为国际商用机器公司 (IBM)。Thomas J. Watson 也成为 IBM 的 CEO 和 COO。

1928 年推出了 TYPE IV 型号制表机和新的 80 列 12 行卡片。

1941 年到 1945 年间美国国防部和 Thomas Watson 的公司资助的许多项目，这些项目催生了现代化的计算机。

尽管 Watson 在 1945 年说“我认为整个世界需要有五台计算机”，第一台也是他资助下建立的。来自哈佛的 Howard Aiken 和一个小团队在 1939 年开始依照 Babbage 的理念组建一台名为 Harvard Mark I 的机器，并在 1944 年完成。它包含有一个 51 英寸宽 8 英寸高的面板，上面有有纸带阅读器，继电器，和旋钮。这台计算器由一个 4 马力的马达驱动，几乎全部操作都是通过物理开关进行。它可以在 23 个人的操作下进行 10 进制的数值计算，每一个基础计算需要耗时 0.3 秒。这台机器一直服役到 1953 年，它的一部分现存于剑桥的 Harvard's Aiken 计算实验室，另外部分则在华盛顿的史密森尼学会。

1944 年美国军方和宾夕法尼亚签订了一个合约，请他们建造一个离散变量自动电子计算机 (EDVAC)。最初的团队包含 Herman H. Goldstine，John von Neumann，以及 John Mauchly，其中 von Neumann 主导了相关设计。

第一台全电子的计算机是电子积分数值积分计算机 (ENIAC)，由宾夕法尼亚大学的 J.W.Mauchly 和 J.P.Eckert 于 1945 年着手建造，1946 年在亚伯丁弹道研究实验室 (BRL) 提供的场地组装完成。我认为它是世界上最大的计算机，由 18000 个电子管 (真空管) 和 1500 个继电器组成。ENIAC 是电子版本的 Mark I，速度是 Mark I 的几百倍。Mike Muuss 告诉我 ENIAC 的一部分在 BRL 展示。

1947 年 Eckert 和 Mauchly 建立他们自己的计算机公司开始建造他们的通用自动计算机 (UNIVAC)。他们用光了资金后又找到美国赛马赌金公司为其投资的 50 万美金 (这应该是历史上首次计算机和娱乐相关联的事件，赌金公司需要更快的赔率计算机器，他们认为电子计算机处理这些信息会更有效率)。赌金公司掌控了 Eckert-Mauchly 公司，但是资金在造出机器前又花光了，Mum 兄弟 (赌金公司的所有者) 将 Eckert-Mauchly 公司出售给了雷明顿兰德公司。最终 UNIVAC 机器在一年后的 1951 年完成并得到了 6 台订单。

ENIAC 也在英国发展起来。1946 年 Maurice V. Wilkes 从普林斯顿反回到剑桥数学实验室后，带领他的小组小组筹划建立一台延迟存储电子自动计算机 (EDSAC)。它有 ENIAC 五十分之一大小，基于 von Neumann 的一篇论文中提到的方法建造。当 1949 年完成的时候，它成为第一台可以存储控制程序，含有高速存储以及带有输入输出设备的电子计算机。几年后，EDSAC 实验室在 Wilkes 带领下已经有了 150 多种控制程序。

几乎就在同一时间，在曼彻斯特一个由 M.H.A.Newman 领导的小组建造一台和 EDVAC 相同理念的机器。发明阴极射线管存储装置的 F.C. Williams，曾经和图灵一起工作建造巨人解密机器的 I.J.Good，以及图灵本人都加入了这个小组。曼彻斯特自动数字机器 (MADM) 原型于 1948 年建造，1949 年 6 月运行了它的第一个程序。MADM 将分页寄存器和分页用于计算。

在这段时间里，IBM 开始研制选择性序列电子计算机 (SSEC)。EDSAC 被称为首个电子计算机，而 SSEC 则被称之为首个计算机。它利用一个存储程序集成了计算功能。1948 年早期在曼哈顿 IBM 的总部投入使用时，它被聪明的安放到街边一块大玻璃后面的房子里，这样走过的路人们都可以看到它是怎么运转的。这是一个由 13000 个电子管和 23000 个继电器组成的巨大机器，由于所有的算术计算都是由电子管完成，他的速度是 MARK ID 的 100 多倍。它包含三个不同的存储器：一个高速电子管存储，一个继电器组成的大容量存储，还有一个容量更大的 8 列纸带存储。指令和数据输入时通过打孔纸带，因为有 66 个并排的打孔纸带，所以控制可以自动一个接一个不间断的传送。“它可能是第一台拥有 Babbage 和 Ada Lady Lovelace 所提出的条件转移控制指令的机器”，1953 年 B.W.Bowden 写道。它移植工作到 1952 年被拆除，特别是其间曾为直为美国原子能委员会工作。

同年六月，John von Neumann 和他的同事在普林斯顿狂热的研究者一项超前的技术，他们受雇于 F.C. Williams 和 T. Kilburn，希望可以使用阴极射线管替换电子管存储器。

下一个硬件的进步来自于 1944 年 Jay Forrester 在 MIT 领导的旋风项目。旋风采用一种新型电子存储，采用由 16 个电子管，每个又包含 256 个二进制位，实现了每秒 2 万次 16 位字长的单地址操作 (字是计算机存储的基本单元，包含预先指定的位数。一个 8 位的字可以存储一个负 128 到 127 范围的数字)。旋风项目是第一个尝试以实时持续的计算飞行运动，来确保飞行器高速稳定的飞行。Doug Mcllroy 告诉我 1954 年他是一个用户的时候，“旋风拥有核心内存，一秒钟可以执行 4 万条指令”。旋风项目中 Forrester 的“阳光男孩”是 Kenneth H. Olsen，他在几年后创建了数字设备公司。Olsen 参与了磁力开关阵列存储设备，但是在他的学生论文中他却建议使用晶体管替换真空管。这篇论文被 Ralph L. Palmer 看到，Palmer 是 1955 年 SSEC 的主要电路设计者，他劝说 Bloch 在 IBM 704 机器中使用晶体管存储器。最终这个尝试失败了因为带有充足电力的晶体管驱动铁核内存是不可能的。

基于 701A 建造的 704 在 1954 年发布，701 是 IBM 最长久的胜利 (1952，1953)。从 701 到 704 的改进由 Gene Amdahl。701 是由 Nathaniel Rochester 和 Jerrier Haddad 领导的 35 人小组建造的。Rochester 在席尔瓦尼亚曾经参与旋风项目的算术单元设计。Haddad 是曾经 IBM 604 电子计算机团队的一员。最终，700 系列包含了科研计算机 (701，704，709，7040，7044，7090，7094) 和商用计算机 (707，705，7080)。顺便提一句，IBM 7030 拥有 64 位字长和 8 位字节。1953 年 701 每月的租金是 15000 美元，704 的租金更高一些。就算租金如此高昂，IBM 也售出了 18 台 701 和 140 台 704。在商业方面，IBM 以 160 万美金的平均价格售出了 175 台 705。7080 是完全晶体管构成的版本，售价 220 万美金。那是计算机价格都是以百万美金为单位。

与 IBM 合作中的 Forrester 接到了国防部旋风二号的合约，一台防空计算机。随着 IBM 更多的参与，项目 1952 年改名为 SAGE(半自动地面防空系统)。Ken Olsen 和他的团队在 MIT 的林肯实验室制花费了 9 个月就完成了内存测试计算机的设计和建造。1953 年当 Forrester 和 Norman Taylor 上尉意识到他们需要一个常驻 IBM 的联络员，Taylor 强制 Olsen 去了那里。Olsen 越来越讨厌 IBM 的态度，1953 年的某个夜晚，他告诉 Taylor“我可以做这些人的工作，并超过他们”。这就是数字设备公司 (DEC) 的由来。

三年半后，Olsen 向政府递交了一个商业计划，收到 7 万美金。他和 Harlan 向成立自己的公司。一年后他们从 Maynard 购买了逻辑模块。1959 年的东部计算机联合大会在波士顿的斯塔特勒酒店举行，会上 DEC 公布了 PDP-1 计算机的原型 (PDP，可编程数据处理器)，这个计算机在 1960 年九月上市，定价 12 万美金。

PDP-1 是一个内存大小为 4096 到 32768 字长的 18 位机器，存储器周期 5 毫秒，每秒钟可以执行 10 万次计算。它在 Benjamin Gurley 的领导下开发，包含有 3500 个晶体管和 4300 个二极管。PDP-1 拥有编辑器，汇编器，和一个名为 DECAL 的 ALGOL 语言编译器。它使用纸带阅读器输入数据，一个 IBM 字母打印机被作为输出接口。PDP-1 是同时代中最具性价比的实时计算机，也是第一个拥有图形显示器的商用计算机。DEC 一共售出 53 台 PDP-1。第一台卖给了 BBN 科技公司，第二台卖给了 ITEK 公司 (Norm Taylor 创办的排版公司)。其他的则被劳伦斯利弗莫尔实验室和加拿大原子能 (AEC) 买走。1962 年一月，Olsen 向 MIT 捐赠了一台 PDP-1。学生们使用它玩一个叫做 mancala 的计数游戏。

PDP-2 被设计成 24 位，PDP-3 则试图成为一台 36 位机，但这些都没有真正的制造出来。另一台由 Gordon Bell 设计的 18 位机器 PDP-4 是一个失败项目，它的存储器周期是 8 毫秒 (作为对照，PDP-5 是 5 毫秒)。它只需要 PDP-1 一半的耗电量 (1125 瓦对比 2160 瓦)，运行汇编器，编辑器，和 FORTRAN 语言。相比于 PDP-1 的 12 万美元售价，它只需要 6.5 万美元。但是 Gordon Bell 错了：八分之五的能耗 (62.5%)，二十四分之 13 的价格 (54%) 并不是市场想要的。最终它只卖出了 45 台。

PDP-6 是一台售价高达 30 万美金的 36 位计算机，面世没多久就被取消了。一共有 23 台售出，其中一台卖去了 MIT 的人工智能实验室。

PDP-7，PDP-9 和 PDP-15 都是和 PDP-4 一样的 18 位计算机。PDP-8 是另一台由 Bell 和 De Castro 设计的 12 位计算机。1965 年当它以 1.8 万美金的价格上市时引领了小型电脑革命，最终有 50000 台 PDP-8 被售出。PDP-10 是一台继 PDP-6 的另一台 36 位计算机。

1970 年 PDP-11 的发布使 DEC 成为小型计算机制造商的领头羊。在卡内基梅隆大学进行学术休假的 Bell 做的概要设计，具体项目是在 Andy Knowles 的带领下进行的。PDP-11 是一台 16 位机器 (拥有种类繁多的配置和外观)，最终售出了 25 万台。

Gordon Bell 的创造和 DEC 冒险做低价计算机是 UNIX 得以开发和成功的关键。PDP-11 第一次证明了大学和科研站点可以支付部门规模的计算机。此外，Ritchie 和 Thompson 也没有足够的资金购买一台大型计算机，PDP-11 10800 美金的起始售价却在贝尔实验室的预算之内。PDP-11 16 位的字长也很重要，16 位相比于 8 位可以存储更多的信息。


**翻译参考**

* http://songshuhui.net/archives/53537
* http://wenku.baidu.com/view/227b730203d8ce2f006623f7.html
* http://ftp.coscoqmc.com.cn: 8081/nclass/jsjcourse/kwshiqu/boke.htm
* http://www.flickering.cn/八卦天地/2015/02/计算机前世篇（三，打孔卡片）/
* http://www.flickering.cn/八卦天地/2015/02/计算机前世篇（二，机械计算器）/
