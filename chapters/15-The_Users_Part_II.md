# 用户 第二部分

对于我来说，整个Unix故事最让人着迷的部分，是它快速传播到加拿大，欧洲，澳大利亚和日本。因为一一追溯会变得非常乏味，我会选择几个国家让真正的亲历者给我们讲述那时的故事。我之前曾提到过这几位用户，不过现在你可以到到他们自己的声音。

第一位是皇后玛莉学院(QMC，现在是玛莉女王和韦斯特菲尔德学院)的George Coulouris教授。我们他QMC是如何在1973年晚期得到第4版Unix的。

> William Newman曾经在1971年10月来我们实验室做了差不多一年的访问学者(然后他去了Xerox PARC，现在他在剑桥的Rank Xerox EuroPARC)。我们曾在它的指导下发现交互微机系统的价值。他和Mike在QMC合作开发了一个单用户交互操作系统(名字是MIFS)。MIFS运行在一个Interdata计算机上并且在TENEX上完成早期开发。它被用来支持两个研究项目，一个是审查William的设计的图形编程语言，另一个是审查我们一个小组使用微程序仿真设计的的新机器架构。和Unix类似，MIFS包含了很多组件和工具——一个文件系统个，一个系统编程语言，一个编译器，一个行编辑器(可以单字符交互)，一个调试器，等等。几乎所有这些都是由William和Mike开发的。

> 当我们开发MIFS的时候我们还没有听说过Unix，但是当William还和我们在一起的时候，他去访问了贝尔实验室。当他回来，他说“他们在莫里山开发了一个和MIFS差不多的东西，但是它多用户并且泡在PDP-11上面”。Mike Cole得到了一些文档，然后开始研究它们，推断它将会给我们带来很大的帮助——它提供了如此多对MIFS有用的工具，有了这些我们会在它的基础上做的更好。

> 我们没有9路驱动，只有一个DEC纸带和一个系统工业10M可交换驱动。真正的问题是Ken没有一个SI控制器的驱动(世界上没人有)。显然我们不能在Unix上开发一个DEC纸带的驱动，因为外围设备的数据交换会让系统慢的可怕。Mike Cole使我们系统的老大，最后也是他解决了这个问题。他在73年夏天用几个月访问了Xerox PARC(那时William Newman就在那，Mike去和他一起工作)，在那里他将从Ken那里拿来的第4版纸带放到DEC纸带驱动器上。在PARC的时候他去了Bezerkeley，为SI控制器写了一个简单的驱动，然后将它编译到内核里。但是Bezerkeley没有SI磁盘，因此他在那里不能测试程序！当他回到QMC时将DEC纸挂载上去，直接就运行成功了！Mike是一个非常棒的程序员。

> 我们打算运行Unix，却冒失的买了一个磁盘和贝尔实验室的系统不兼容的机器。Mike从来没有写过C程序，没有用过Unix，更没有写过Unix驱动，但是他写的磁盘驱动第一次就运行成功了，这真让人惊奇。

Mike Cole补充说:

> George的描述非常正确，但是有一些观点显然夸张了我的编程技能。我的记忆有些不太清楚，但是我想接下来的故事应该是发生在73年夏天。

> 在我去West Cost的路上并没有从贝尔实验室拿到纸带。而是在PARC的时候我在伯克利Mike Stonebraker的小组花了几个下午并且从它们那里得到了一份Unix的拷和文档(也得到了必要的AT&T分配)。然后我开始学习足够的C语言去写SI磁盘的额驱动，并且使用它们的带有LA30 DEC刻盘器的11/45构建了一个系统(一段痛苦的经历)。我记忆里他们那时正在痛苦的开发Ingres。

> 因为系统要运行起来的希求非常紧急，我返回QMC的时候决定停止贝尔实验室的工作去英国。10月Ken Thompson检查了我的代码，发现一两个bug(使用C语言的指针几乎总会出错)。我们将整个Unix软件放在7，8个DEC纸带上。然后Unix就转载PanAm袋子里第一次来到了英国。

> 建立了UK的第一个工作站，我记得我曾在74年同时被爱丁堡和剑桥邀请去介绍我们做的这个奇怪的叫做Unix的系统。我被消极的回应所打击到了，特别是剑桥的Neil Wiseman和Charles Lang表示不会考虑接受这种没有供应商支持的系统(我记得那时他们在用RSX-11)。这就是早期传教士的失望。

不久之后，Nigel Martin成为QMC的学生，城市大学的Sunil Das得到西部电气的一个授权，不需要再等新泽西购买到英国:Sunil从Nigle那里得到一个第5版Unix。

在那段时间，多伦多大学得到了一份Unix。在详细讲述这段历史之前，很有必要了解加拿大和Unix的紧密联系。Brian Kernighan是一个还在多伦多上学的学生，Al Aho也在那里得到了他的学位。Heinz Lycklama在安大略汉密尔顿的麦克马斯特大学接受教育。Morven Gentleman去麦吉尔(蒙特利尔)并且在滑铁卢(安大略)学院呆了了15年。Tom Duff是滑铁卢的肄业生，去加入了多伦多大学的Rob Pike，David Tilbrook，Howard Trickey，以及Mike Tilson。Tom Cargill在滑铁卢拿到了博士学位。还有许多其他人可以提到(甚至我也作为多伦多大学的职员长达11年)。

1974年中期多伦多大学购买了一台PDP-11/45，运行第5版Unix。11月1日，它收到了第6版的授权。其他大学就没这么多的耐心，Tom Duff告诉我:

> 1974年的滑铁卢大学。Steve Johnson正在学术休假(我就是在那个时候退学的)，他从一个实验室打电话到Unix机器。一些人通过他的肩膀偷看到了号码，然后拨通号码窃取了系统的源代码。

Doug McIlroy告诉我那个传说有些地方是错误的:是他的在实验室的电话号码被偷了。“我在滑铁卢打电话，Unix的电话号码显示在学生计算机俱乐部的账单上。那时学院发现并且绝望的给我打电话，我们和他们的代码被弄得一团糟”。

下一年，Duff成为多伦多的毕业生(Rob Pike是1975年的暑期实习生，Dave Galloway是1976年的实习生)。Duff说:

> 9月我们收到了11/45，12月开始运行第5版Unix。我记得75年早期它开始运行第6版。我在第6版附带的split I&D出现之前开始做我的论文。Mike Tilson，Bill Reeves和我是冷加载第5版纸带的成员。

> 我们遇到一些问题会打电话给Ken寻求帮助，他显然接到了非常多这类电话。大概20台第5版工作站远远多于他之前的发行版数量。mkfs命令指出了如何在有4000个存储块的RK05上构建根文件系统，并且留下872个存储快作为交换空间。Bill在我们的第二个RK上输入同样的命令来制作文件系统，他觉得不值得为了浪费的一小点字节而去翻看RK05的文档找出存储空间的准确大小。仅仅一周后我们就遇到了麻烦，我花了几个小时阅读**check**命令-s的代码找出我该如何在超级存储块上打补丁来修正文件系统，然后运行**check -s**更正了这些存储块。

Duff也遇到了问题，他使用部门的Xeror机器来创作**yacc**手册，着这些天里官僚一直索要复制的权利。

> Mike Tilson改进了Duff的版本。

> 第一个系统运行在PDP-11/40上面，那是我们等待交付11/45时候的一台过渡机器。我相信我们能验证Unix可以使用仅仅64KB的内存启动。那个纸带我Ken个人制作的，他在贝尔实验室将它给了我(然后，就像现在，AT&T运送的很慢。但不像现在的是，你可以绕过书面工作而自己直接去取纸带)。

> 11/40有一个GT-40显示器:它的驱动是多伦多大学的第一批自定义修改。

1977年11月1日那天多伦多收到了一个图像排版机的授权。我将在不久之后返回多伦多。现在，让我们一起去欧洲看看。

Teus Hagen在荷兰关于Unix的故事开始于第10章。Hagen相信“Unix中的技术(字符串表达式，yacc，行处理编辑器，文字处理，awd，字节流思想，管道)在早年将欧洲的计算机科学推进了一大步，在短短几个月的时间内欧洲的技术水平大幅提高”。他同时也对我说:

> 我想我们和伦敦的皇后玛莉学院同时从实验室得到了Unix，这比其他人得到第6版早了一年的时间。我现在仍然保留着最初的手册。

> 接下来是奈梅亨大学的Hendrik Jan Thomassen，他在经历无数讨论后安装了Unix。第三个收到Unix的是自由大学的Andy Tanenbaum(Andy那时正在忙着做他自己的操作系统)。

> 那时我们的问题之一是计算机设备高昂的价格:一个磁带就要花费4.5万美元，一个驱动器(DEC RM05)的价格是5.5万美元(又一次我们中有一个人试图围着机房飞)。

> 我和DEC的维护者有麻烦，他们需要RSX或者VMS才能运行，也不能修复我们的硬件问题。不论如何，我们的错误信息要比Unix上的要好很多，我们最后还是可以说服他们。但你怎么在一个有瑕疵的计算机系统上安装VMS或者RSX?

Hagen不是唯一在DEC方面有麻烦的人，Lou Katz告诉我:“基本上，DEC的维修人员会运行它们自己的怎断程序并且说是我们的软件有问题，因为他们的怎么程序没有找到任何问题。特别是事实证明DEC的怎断程序没有测试PDP-11的监管模式，但是Unix需要这个”。Armando Stettner说:“有许多Unix在PDP-11s上做的事情，不管是DEC的操作系统还是诊断程序都没有测试过”。

> DEC不相信所有的东西都是C语言写的(C是什么鬼?)，并且只有500页的代码。如果你想的话可以随意修改源码。与之形成对比的是DEC堆积的手册和论文堆起来就要和机房差不多高了。

> 最初，我们有一台PDP-11/45(带有核心内存，一个很棒的加热器)，但是只有一个1.5Mb大的RK05磁盘驱动器作为数据交换接口。我们不确定公共交通工具会对磁盘上的磁场会有什么影响(在阿姆斯特丹有很多有轨电车)，所以我们我们没有去冒险从数学中心走到自由大学(大约7英里远)。后来我们有了更多的信心，在电车上可以很容易认出Unix的相关人员，他们在车上都会抱着装有RK05的大箱子。

欧洲的第一个Unix网络是Hagen组建的，它后来成为正式的欧洲Unix用户组。在欧洲建立一个网络并不像美国的UUCP和ARPANET那么容易。他说:

> 拨号器和调制解调器在欧洲不被PTTs许可，因此我们在建立Unix网络的时候有非常的问题，PTT的家伙们丝毫想象不到UUCP的功能和作用(我们是说不同语言的两个物种)。于是我们将一个办公用的桌面半自动拨号器放进一个盒子里，盒子是从110/300波特率的调制解调器上拆下来的。一个小公司组装了很多那种盒子，并且将它们作为无线扩音器在边境走私售卖。我在DEC的好朋友Armando Stettner帮我建立了和美国的通讯连接(只有邮件，那时新闻还没有出现)。那时还没有压缩功能，我们因为缓慢的速度花费了不少的钱。这就是为什么如今欧洲有如此严格的网络计费系统。因为国际长途费在晚上会便宜很多，我们改为在夜间和美国建立通讯。一天早上我发现和美国连接的线路挂掉了:满屏的通讯报错和重试信息，电话已经接通了10小时。10个小时的美国长途电话是非常昂贵的，所以我被主管叫到了办公室(因为他是数学家，所以对这些事情不太了解，而且他也不想和计算机的家伙们打交道)。我惹上一堆的麻烦...

> 我们得到新闻是几年之后的事情了。我记得我发布在网上的第一篇帖子，因为美国的人们对我感到特别新奇，不断问我地狱是什么样的，我一小时又一小地在他们提问之前回复帖子！他们终于发现了美国以外的另一个世界。

> (我向Teus询问关于Kremvax的事情)

> 那天是愚人节。我们从数学中心发表了一个帖子宣称克里姆林宫VAX在网络上发布，帖子的地址可以追踪到莫斯科。随着帖子在网络上散播，人们互相喊叫，我听说美国政府安全会议也这个消息惊动了，官方试图立即终止和欧洲的通讯线路。幸运的是接下来发现这个措施并没有执行，网络继续保持着无政府状态。

Kremvax真正的创造者是Piet Beertema，那条消息在1984年的4月1日发出。六年后，当demos.su介入USENET，Demos的资深程序员Vadim Antonov说服人们那不是另一个恶作剧。Armando Stettner的故事和Hagen的有些不太一样，他告诉我:

> 我们在很多地方使用UUCP。但是我们没有做出NETNEWS。Teus和我在一个会议上讨论建立NETNEWS的主意。我说“看，做出NETNEWS连接大西洋有什么问题吗？是时候连接起来了。如果在你我的电脑上都安装compression，我就可以向你发送新闻了”。我不知道怎么开始的。但Teus后来给我发邮件说“复制复制这个东西到电脑上”，然后我们让它运行起来了...不久之后我开始通过Teus的机器和欧洲交换NETNEWS。成功了几个星期后，我通过Robert Elz的机器又将澳大利亚接入到网络。


