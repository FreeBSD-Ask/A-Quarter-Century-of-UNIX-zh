# 实用工具

每个Unix机器上都安装着数目繁多的程序，不管是系统原生的还是厂商附加的。这其中包括编辑器，格式器，编译器。实用工具使得用户有一个字母列表跟踪程序或者文档的不同版本，去“伸手戳一下”其他用户。这章将用来讲述它们中的一部分:非常早期的——troff，eqn，tbl，yacc，mail，make，awk，还有最近出现的——UUCP，TCP/IP。最后两个又引发了其他的实用工具(Mike Muuss的ping和Earl Cohen的finger就是很好的例子)，并且几乎立即就出现了一个世界范围的由各种不同用户组成的社区。这个社区对Unix来时及其重要。各种问题，解决方案，程序，抱怨，宣告等等都在社区里自由的交换传送。整个社区建立在大约3000万到3500万的网络用户之上——就像John Quarterman所说的，比加拿大的总人口都要多。

mail和roff以及ed一样，在Unix第一版时就存在了。Morris曾经将roff移植到635上，McIlroy用BCPL语言将它重写。Thompson将它移植到了Unix。但Joe Ossanna不久又将roff合并到了troff，一个真正针对电传打字机文档的格式器。Ossanna死于1977年11月28，McIlroy告诉我:

> Joe是军需官，他游走于各个厂商，打探硬件的最新发展，和设备部门做交易，还做了很多很多其他的事。他是一个严厉而有吸引力的人。

eqn在第5版的时候加入进来。Brian Kernighan说这是他对Unix做出的第一个重大贡献。就像他向Collinson说的:

> 那个时候所有的程序都是用汇编语言写成的。troff的最早版本应该是在1972年晚期或者1973年写的，它是一个汇编语言程序并且只针对特定的图形排字机系统。在今天仍然有许多事情依然受到troff语言那古老机器语法的影响。

> Joe Ossanna将它转换成C语言，我认为他受到了相当大的影响，他并不真的想将它转为C语言。他死于1977年，之后我接手了它的工作，事实上，虽然我花费了至少一年半的时间试着去编译它。我开始让它独立于图形排版系因为那时它的优势已经很明显了。我开始投入到图形中因为新型的默根瑟勒排版机可以做一些受限的图形操作，你可以非常精细的定位，你可以画直线和曲线。

> Mike Lesk大概在1975年做了**tbl**，在Lorinda Cherry和我做出**eqn**不久之后(Cherry告诉我他开始着手项目的时候Kernighan就加入了，但Kernighan因为非常成功的语法而出名)。**eqn**是第一个文档预处理器。它是我们强行实现的一个好主意，需求是发明之母。**troff**几乎用尽了PDP-11/40s的所有地址空间，它用汇编语言写成。我从来没有学过PDP-11s的汇编，我想Honeywell是最后一个我知道汇编语言的机器。

> Joe独自保持维护**troff**，他对于修改它使它工作有着难以置信的兴趣。但这是他的程序，他不想让其他人参加进来。这些事情加起来意味着Lorinda和我不得不去做一个分割程序。

> 几个事情合作的非常好。C语言变得非常具有可用性，yacc分析生成器刚刚出现，管道也刚被发明出来。所有这些事情一起使商用变得可能。


