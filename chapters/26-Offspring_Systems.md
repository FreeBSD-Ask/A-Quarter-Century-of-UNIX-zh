# 衍生版本

就像早期的 Unix 版本衍生出了 MERT，PWB，LSX 和 Idris，V7 和 4.xBSdD 是一大票系统的先辈。字母表上可以从 Amoeba 到 V，地理上可以从西方的耶路撒冷到东方的台湾，这里可以列出来的实在太多了。不管怎么说，在过去十年间开发出了各种类型的版本，在这一章我将选出其中 5 个来介绍: MOSIC(Israel)，Chorus(France)，Amoeba(Netherlands)，Mach 和 Plan 9(US)。

MOSIX(Unix 的多计算机操作系统) 是一个可以将多个计算机连接成为一个虚拟单机 Unix 环境的系统。1981 年 Amnon Barak 在耶路撒冷的希伯来大学开发了 MOSIX。最初它的名字是 MOS，被设计成基于第 7 版 Unix 连接多台 PDP-11/23s。83 年到 84 年期间开发出来并在 M68000 处理器上运行。到了 1993 年一共有连续 4 个版本发布，包括一个 32V 版本 (1987 年，叫做 NSMOS，因为它在基于 National Semiconductor NS32332 的计算机上运行)，一个 VAX 版本 (1988 年夏天基于 SVR2)，还有一个 VME523 版本——这个最流行的版本运行在多处理器工作站集群上。最初引入 MOSIX 的特点就是通过动态迁移实现的负载均衡，或者也可以称之为缩放算法。

1979 年 Chorus 最初是 Hubert Zimmerman 在 INRIA 开始做的一个研究程序。直到 1986 年，一个很大的团队为发行版系统开发了 3 个面向通讯的内核，这些早期版本都有一个自定义的接口。1986 年的 Chorus-V2 兼容于 Unix System V。大约在这个时候这个项目被作为一个商业公司剥离出来: Chorus 系统公司。

Unix 系统实验室在 1993 年宣布成立，在它被 Novell 收购之前它使用 Chorus 的技术。这里一定要指出的是，作为一个 Unix 研究社区开放性的直接结果——就像我在之前章节不断提到的——在本章这些系统和项目之间有大量的“分享”。Chorus-V3 发布时有着和 Mach 类似的虚拟内存和“线程”，网络寻址看起来和 Amoeba 很像，统一文件命名又和第 9 版 Unix 差不多。在 1970 年后期，只是一个优点而非缺点。

Chorus 包含了一个核心和几个服务系统，服务系统在一个子系统环境中互相协作。其中一个子系统的实现是用 Unix 实现的。Chorus 系统公司卖出了大量既有用又有趣的核心和 Unix 子系统。

1980 年中期，阿姆斯特丹自由大学的 Andy Tannenbaum(MINIX 的作者) 预言了未来世界的计算，包括分布式的物理硬件和逻辑上集中的软件。在这个想法下，Amoeba 项目在自由大学开始创建。随后，Sape Mullender 和其他几个 CWI(之前的数学中心) 的人组成团队和自由大学的人一起开发 Amoeba。Amoeba 包括：

* 窗口系统的工作站
* 针对计算的处理器池
* 定制的服务 (文件和目录)
* 和其他系统的连接

Amoeba 的软件是面向对象的，有一个模拟 Unix 软件包，还有其他各种各样的东西。Amoeba 的设计理念是，一个多台机器组成的本地局域网集群，应该可以通过远程网络连接远方一个类似的机器集群。远程网络通畅速度很慢并且不太可靠，Amoeba 在网络方面的主要目标是在不牺牲性能的前提下透明压缩传送数据。

作为 1978 年 Tannenbaum 和 AT&T 授权不愉快的结果，Amoeba 是从头开始写起的，内核和实用工具都不包含任何 AT&T 或者伯克利的代码，并且不需要任何授权。

Unix 进入多处理器世界的另一个副产品是卡内基梅隆大学创造的 Mach。最初的开发人员是 Avadis Tevanian，Rick Rashid，还有他们的一些同事。Mach 的目标是大量的计算机架构，包括但处理器，多处理器，和分布式系统。它想要提供一个紧凑高效的内核，然后在此之上为各种操作系统提供接口层。Mach 使用的文件系统来自 1982 年卡内基梅隆大学维护的 4.1BSD 的一部分。内核来自 Rashid1981 年在 Accent 的工作 (一个‘面向通讯的网络操作系统内核’)。Mach 完全的向后兼容 4.3BSD。Mach 是开放软件基金会在 89 年冬天为它未来的操作系统指定的内核。

1987 年 Rob Pike 和 Ken Thompson 开始设计一个 Unix 的代替者。贝尔实验室的 Dave Presotto，Tom Duff，Howard Trickey 很快也都加入进来。它们把这个系统称为 Plan 9(名字来自史上最烂的科幻电影《来自外太空的 Plan 9》)，系统分为三层，一端是公共服务器，一端是终端。服务器是多处理器的机器，终端本质上是无盘工作站。第三层是广域网，连接终端和服务器的网络。Greg Chesson，Sandy Fraser 和 Dennis Ritchie 的 Datakit 网络是远程网络。Plan 9 违背了现代计算环境的趋势：从 1986 年 Sun 3 的冒险开始，“多数主义”观点变成大容量磁盘工作站组成的本地网络。Plan 9 是一个融合单独服务器和终端的分布式计算环境。每台机器都用单一协议和本地命名空间操作连接起来。

Plan 9 曾经安装在基于 i386 处理器的笔记本电脑上作为服务器用。在 1993 年后期被一个商业厂商接手了。Dave Presotto 告诉我“我们开始了一个新的系统——但使用了一个烂电影的名字”。
